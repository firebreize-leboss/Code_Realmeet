schemaname	tablename	policyname	permissive	roles	cmd	qual	with_check
cron	job	cron_job_policy	PERMISSIVE	{public}	ALL	(username = CURRENT_USER)	
cron	job_run_details	cron_job_run_details_policy	PERMISSIVE	{public}	ALL	(username = CURRENT_USER)	
public	activities	Hosts can update own activities	PERMISSIVE	{public}	UPDATE	(auth.uid() = host_id)	(auth.uid() = host_id)
public	activities	Insertion authentifiée	PERMISSIVE	{authenticated}	INSERT		(auth.uid() = host_id)
public	activities	Lecture publique des activités	PERMISSIVE	{public}	SELECT	(((status)::text = 'active'::text) OR (auth.uid() = host_id))	
public	activities	Suppression par le créateur	PERMISSIVE	{authenticated}	DELETE	(auth.uid() = host_id)	
public	activity_participants	Anyone can view participants	PERMISSIVE	{public}	SELECT	true	
public	activity_participants	Users can join activities	PERMISSIVE	{public}	INSERT		(auth.uid() = user_id)
public	activity_participants	Users can leave activities	PERMISSIVE	{public}	DELETE	(auth.uid() = user_id)	
public	activity_revenue	Business can insert own revenue	PERMISSIVE	{public}	INSERT		(auth.uid() = business_id)
public	activity_revenue	Business can view own revenue	PERMISSIVE	{public}	SELECT	(auth.uid() = business_id)	
public	activity_slots	Anyone can view slots	PERMISSIVE	{public}	SELECT	true	
public	activity_slots	Authenticated users can add slots	PERMISSIVE	{public}	INSERT		(auth.uid() = created_by)
public	activity_slots	Creators can delete their slots	PERMISSIVE	{public}	DELETE	(auth.uid() = created_by)	
public	blocked_users	Users can create blocks	PERMISSIVE	{public}	INSERT		(auth.uid() = blocker_id)
public	blocked_users	Users can delete their own blocks	PERMISSIVE	{public}	DELETE	(auth.uid() = blocker_id)	
public	blocked_users	Users can view their own blocks	PERMISSIVE	{public}	SELECT	(auth.uid() = blocker_id)	
public	business_stats	Business can insert own stats	PERMISSIVE	{public}	INSERT		(auth.uid() = business_id)
public	business_stats	Business can update own stats	PERMISSIVE	{public}	UPDATE	(auth.uid() = business_id)	
public	business_stats	Business can view own stats	PERMISSIVE	{public}	SELECT	(auth.uid() = business_id)	
public	checkin_logs	Business sees own checkin logs	PERMISSIVE	{public}	SELECT	(EXISTS ( SELECT 1
   FROM activities a
  WHERE ((a.id = checkin_logs.activity_id) AND (a.host_id = auth.uid()))))	
public	checkin_logs	Service inserts checkin logs	PERMISSIVE	{public}	INSERT		true
public	conversation_participants	participants_delete	PERMISSIVE	{public}	DELETE	(user_id = auth.uid())	
public	conversation_participants	participants_insert	PERMISSIVE	{public}	INSERT		true
public	conversation_participants	participants_select	PERMISSIVE	{public}	SELECT	true	
public	conversation_participants	participants_update	PERMISSIVE	{public}	UPDATE	(user_id = auth.uid())	
public	conversations	conversations_insert	PERMISSIVE	{public}	INSERT		true
public	conversations	conversations_select	PERMISSIVE	{public}	SELECT	true	
public	conversations	conversations_update	PERMISSIVE	{public}	UPDATE	true	
public	friend_requests	Users can create friend requests	PERMISSIVE	{public}	INSERT		(auth.uid() = sender_id)
public	friend_requests	Users can delete their own friend requests	PERMISSIVE	{public}	DELETE	((auth.uid() = sender_id) OR (auth.uid() = receiver_id))	
public	friend_requests	Users can update their received friend requests	PERMISSIVE	{public}	UPDATE	(auth.uid() = receiver_id)	
public	friend_requests	Users can view their own friend requests	PERMISSIVE	{public}	SELECT	((auth.uid() = sender_id) OR (auth.uid() = receiver_id))	
public	friendships	Users can delete their own friendships	PERMISSIVE	{public}	DELETE	(auth.uid() = user_id)	
public	friendships	Users can insert friendships	PERMISSIVE	{public}	INSERT		((auth.uid() IS NOT NULL) AND ((auth.uid() = user_id) OR (auth.uid() = friend_id)))
public	friendships	Users can view their friendships	PERMISSIVE	{public}	SELECT	(auth.uid() = user_id)	
public	group_formation_logs	Authenticated users can view logs	PERMISSIVE	{authenticated}	SELECT	true	
public	messages	Business can insert messages in their activity groups	PERMISSIVE	{public}	INSERT		((EXISTS ( SELECT 1
   FROM conversation_participants cp
  WHERE ((cp.conversation_id = messages.conversation_id) AND (cp.user_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM ((conversations c
     JOIN activity_slots s ON ((s.id = c.slot_id)))
     JOIN activities a ON ((a.id = s.activity_id)))
  WHERE ((c.id = messages.conversation_id) AND (a.host_id = auth.uid())))))
public	messages	Business can read messages in their activity groups	PERMISSIVE	{public}	SELECT	((EXISTS ( SELECT 1
   FROM conversation_participants cp
  WHERE ((cp.conversation_id = messages.conversation_id) AND (cp.user_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM ((conversations c
     JOIN activity_slots s ON ((s.id = c.slot_id)))
     JOIN activities a ON ((a.id = s.activity_id)))
  WHERE ((c.id = messages.conversation_id) AND (a.host_id = auth.uid())))))	
public	messages	Users can send messages in their conversations	PERMISSIVE	{public}	INSERT		((auth.uid() = sender_id) AND (EXISTS ( SELECT 1
   FROM conversation_participants
  WHERE ((conversation_participants.conversation_id = messages.conversation_id) AND (conversation_participants.user_id = auth.uid())))))
public	messages	Users can update their own messages	PERMISSIVE	{public}	UPDATE	(auth.uid() = sender_id)	
public	messages	Users can view messages in their conversations	PERMISSIVE	{public}	SELECT	((EXISTS ( SELECT 1
   FROM conversation_participants
  WHERE ((conversation_participants.conversation_id = messages.conversation_id) AND (conversation_participants.user_id = auth.uid())))) OR (EXISTS ( SELECT 1
   FROM (conversations c
     JOIN activities a ON (((c.activity_id = a.id) OR (EXISTS ( SELECT 1
           FROM activity_slots s
          WHERE ((s.id = c.slot_id) AND (s.activity_id = a.id)))))))
  WHERE ((c.id = messages.conversation_id) AND (a.host_id = auth.uid())))))	
public	met_people_hidden	Users can hide users	PERMISSIVE	{public}	INSERT		(auth.uid() = user_id)
public	met_people_hidden	Users can unhide users	PERMISSIVE	{public}	DELETE	(auth.uid() = user_id)	
public	met_people_hidden	Users can view own hidden users	PERMISSIVE	{public}	SELECT	(auth.uid() = user_id)	
public	profiles	Profils publics en lecture	PERMISSIVE	{public}	SELECT	true	
public	profiles	Users can update own profile	PERMISSIVE	{public}	UPDATE	(auth.uid() = id)	
public	profiles	Utilisateurs peuvent insérer leur profil	PERMISSIVE	{public}	INSERT		true
public	profiles	Utilisateurs peuvent mettre à jour leur profil	PERMISSIVE	{public}	UPDATE	(auth.uid() = id)	
public	reports	reports_insert_policy	PERMISSIVE	{public}	INSERT		(reported_by = auth.uid())
public	reviews	reviews_delete_own	PERMISSIVE	{public}	DELETE	(reviewer_id = auth.uid())	
public	reviews	reviews_insert_own	PERMISSIVE	{public}	INSERT		(reviewer_id = auth.uid())
public	reviews	reviews_select_all	PERMISSIVE	{public}	SELECT	true	
public	reviews	reviews_update_own	PERMISSIVE	{public}	UPDATE	(reviewer_id = auth.uid())	
public	slot_group_members	Service can manage slot_group_members	PERMISSIVE	{public}	ALL	true	
public	slot_group_members	Users can view slot_group_members	PERMISSIVE	{public}	SELECT	true	
public	slot_groups	Service can manage slot_groups	PERMISSIVE	{public}	ALL	true	
public	slot_groups	Users can view slot_groups	PERMISSIVE	{public}	SELECT	true	
public	slot_participants	Anyone can view slot participants	PERMISSIVE	{public}	SELECT	true	
public	slot_participants	Business can view participants of their activities	PERMISSIVE	{public}	SELECT	(EXISTS ( SELECT 1
   FROM activities a
  WHERE ((a.id = slot_participants.activity_id) AND (a.host_id = auth.uid()))))	
public	slot_participants	Users can join slots	PERMISSIVE	{public}	INSERT		(auth.uid() = user_id)
public	slot_participants	Users can leave slots	PERMISSIVE	{public}	DELETE	(auth.uid() = user_id)	
storage	objects	 Allow public read access 1ht8hdi_0	PERMISSIVE	{anon}	SELECT	(bucket_id = 'activity-images'::text)	
storage	objects	Allow authenticated users to upload 1ht8hdi_0	PERMISSIVE	{authenticated}	INSERT		(bucket_id = 'activity-images'::text)
storage	objects	Allow users to delete own images 1ht8hdi_0	PERMISSIVE	{authenticated}	DELETE	(bucket_id = 'activity-images'::text)	
storage	objects	Allow users to delete own images 1ht8hdi_1	PERMISSIVE	{authenticated}	SELECT	(bucket_id = 'activity-images'::text)	
storage	objects	Anyone can view chat images	PERMISSIVE	{public}	SELECT	(bucket_id = 'chat-images'::text)	
storage	objects	Authenticated users can read voice messages	PERMISSIVE	{public}	SELECT	((bucket_id = 'voice-messages'::text) AND (auth.role() = 'authenticated'::text))	
storage	objects	Authenticated users can upload chat images	PERMISSIVE	{authenticated}	INSERT		(bucket_id = 'chat-images'::text)
storage	objects	Avatar images are publicly accessible	PERMISSIVE	{public}	SELECT	(bucket_id = 'avatars'::text)	
storage	objects	Les images d'activités sont publiques	PERMISSIVE	{public}	SELECT	(bucket_id = 'activity-images'::text)	
storage	objects	Les utilisateurs authentifiés peuvent uploader des images	PERMISSIVE	{authenticated}	INSERT		((bucket_id = 'activity-images'::text) AND ((auth.uid())::text = (storage.foldername(name))[1]))
storage	objects	Les utilisateurs peuvent supprimer leurs images	PERMISSIVE	{authenticated}	DELETE	((bucket_id = 'activity-images'::text) AND ((auth.uid())::text = (storage.foldername(name))[1]))	
storage	objects	Public read access for activity images	PERMISSIVE	{public}	SELECT	(bucket_id = 'activity-images'::text)	
storage	objects	Users can delete own activity images	PERMISSIVE	{authenticated}	DELETE	((bucket_id = 'activity-images'::text) AND ((auth.uid())::text = (storage.foldername(name))[1]))	
storage	objects	Users can delete their own avatar	PERMISSIVE	{public}	DELETE	((bucket_id = 'avatars'::text) AND ((storage.foldername(name))[1] = (auth.uid())::text))	
storage	objects	Users can delete their own chat images	PERMISSIVE	{authenticated}	DELETE	((bucket_id = 'chat-images'::text) AND ((auth.uid())::text = (storage.foldername(name))[2]))	
storage	objects	Users can update their own avatar	PERMISSIVE	{public}	UPDATE	((bucket_id = 'avatars'::text) AND ((storage.foldername(name))[1] = (auth.uid())::text))	
storage	objects	Users can upload activity images	PERMISSIVE	{authenticated}	INSERT		((bucket_id = 'activity-images'::text) AND ((auth.uid())::text = (storage.foldername(name))[1]))
storage	objects	Users can upload their own avatar	PERMISSIVE	{public}	INSERT		((bucket_id = 'avatars'::text) AND ((storage.foldername(name))[1] = (auth.uid())::text))
storage	objects	Users can upload voice messages	PERMISSIVE	{public}	INSERT		((bucket_id = 'voice-messages'::text) AND (auth.uid() IS NOT NULL))
(81 rows)
